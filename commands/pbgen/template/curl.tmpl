# Generated by lc pbgen
# {{.ServiceName}} Service curl commands

{{range .Methods}}{{if .HTTPPath}}
# {{$.ServiceName}}.{{.Name}}
# http.path={{.HTTPPath}}
# Request:
{{- range $field := .Request.Fields}}
#   {{$field.Name}} {{$field.Type}}{{if $field.IsArray}}[]{{end}}{{if $field.IsEnum}} (enum){{end}} {{if $field.Comment}}// {{$field.Comment}}{{end}}
{{- if and (not $field.IsArray) $field.IsEnum (index $.Enums $field.Type)}}
#   {{$field.Type}} values:
{{- range $value := (index $.Enums $field.Type).Values}}
#     {{$value.Name}} = {{$value.Number}}{{if $value.Comment}} // {{$value.Comment}}{{end}}
{{- end}}
{{- end}}
{{- if and (not $field.IsArray) (not $field.IsEnum) (index $.Messages $field.Type)}}
#   {{$field.Type}} {
{{- range $subField := (index $.Messages $field.Type).Fields}}
#     {{$subField.Name}} {{$subField.Type}}{{if $subField.IsArray}}[]{{end}}{{if $subField.IsEnum}} (enum){{end}} {{if $subField.Comment}}// {{$subField.Comment}}{{end}}
{{- if and (not $subField.IsArray) $subField.IsEnum (index $.Enums $subField.Type)}}
#     {{$subField.Type}} values:
{{- range $value := (index $.Enums $subField.Type).Values}}
#       {{$value.Name}} = {{$value.Number}}{{if $value.Comment}} // {{$value.Comment}}{{end}}
{{- end}}
{{- end}}
{{- end}}
#   }
{{- end}}
{{- end}}

curl -X POST 'http://localhost:8080{{.HTTPPath}}' \
  -H 'Content-Type: application/json' \
  -d '{
    {{- range $i, $field := .Request.Fields}}
    {{- if $i}},{{end}}
    "{{$field.Name}}": {{genDefaultValue $field $.Messages $.Enums}} {{if $field.Comment}}// {{$field.Comment}}{{end}}
    {{- end}}
  }'

{{end}}{{end}} 